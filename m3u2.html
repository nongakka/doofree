<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>à¸«à¸£à¸£à¸¡à¸™à¹‰à¸­à¸¢ à¸­à¸­à¸™à¹„à¸¥à¸™à¹Œ</title>

<link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;500;600&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>

<style>
:root{
--accent:#7b2cff;
--accent-soft:rgba(123,44,255,0.25);
--accent-glow:0 0 18px rgba(123,44,255,0.7);
--bg:radial-gradient(circle at 20% 20%,#140a1f,#0a0614 60%,#000);
--glass:rgba(255,255,255,0.05);
--border:rgba(255,255,255,0.12);
}
*{box-sizing:border-box;}
body{
margin:0;
font-family:'Kanit',sans-serif;
background:var(--bg);
color:#fff;
overflow:hidden;
}

/* PLAYER */
#player-container{
position:fixed;
top:0;left:0;
width:100%;height:100%;
background:#000;
transition:.4s;
z-index:1;
}
#player-container.blur{
filter:blur(10px) brightness(.4);
}
video{
width:100%;
height:100%;
object-fit:contain;
background:#000;
}

/* OVERLAY */
#overlay{
position:fixed;
top:0;left:0;
width:100%;height:100%;
background:rgba(10,0,20,.75);
opacity:1;
visibility:visible;
transition:.3s;
z-index:8;
}
#overlay.hide{
opacity:0;
visibility:hidden;
}

/* MENU */
#menu{
position:fixed;
top:0;left:0;
width:340px;
height:100%;
background:rgba(20,10,35,.95);
backdrop-filter:blur(25px);
border-right:1px solid var(--accent-soft);
overflow-y:auto;
transition:.4s cubic-bezier(.4,0,.2,1);
z-index:10;
}
#menu.hide{
transform:translateX(-100%);
}

/* SEARCH */
#search{
width:85%;
margin:20px auto;
display:block;
padding:10px 18px;
border-radius:50px;
border:1px solid var(--accent-soft);
background:rgba(255,255,255,0.05);
color:#fff;
outline:none;
font-size:14px;
transition:.3s;
}
#search:focus{
border:1px solid var(--accent);
box-shadow:var(--accent-glow);
}

/* CATEGORY */
.category{
margin:12px;
border-radius:12px;
overflow:hidden;
border:1px solid var(--border);
background:rgba(255,255,255,0.03);
transition:.3s;
}
.category.active{
border-left:3px solid var(--accent);
box-shadow:var(--accent-glow);
}
.category-header{
padding:10px 14px;
cursor:pointer;
display:flex;
justify-content:space-between;
font-size:14px;
opacity:.9;
}
.category-content{display:none;}
.category.active .category-content{display:block;}

/* CHANNEL */
.channel{
display:flex;
align-items:center;
margin:6px 10px;
padding:8px;
background:rgba(255,255,255,0.05);
border-radius:8px;
cursor:pointer;
transition:.25s;
font-size:14px;
}
.channel:hover{
transform:translateX(6px);
background:var(--accent-soft);
box-shadow:var(--accent-glow);
}
.channel.active{
background:var(--accent-soft);
box-shadow:var(--accent-glow);
border:1px solid var(--accent);
}
.channel img{
width:36px;
height:36px;
object-fit:contain;
border-radius:6px;
margin-right:8px;
background:#000;
padding:3px;
}

/* PREVIEW */
#preview{
position:fixed;
top:50%;
left:370px;
transform:translateY(-50%) scale(.9);
width:280px;
height:400px;
background:#111;
border-radius:18px;
box-shadow:0 0 40px rgba(0,0,0,.8);
overflow:hidden;
opacity:0;
transition:.3s;
z-index:15;
}
#preview.active{
opacity:1;
transform:translateY(-50%) scale(1);
box-shadow:0 0 40px rgba(123,44,255,.7);
}
#preview img{
width:100%;
height:100%;
object-fit:contain;
background:#000;
}
</style>
</head>

<body>

<div id="player-container" class="blur">
<video id="video" controls autoplay></video>
</div>

<div id="overlay"></div>

<div id="menu">
<input type="text" id="search" placeholder="à¸„à¹‰à¸™à¸«à¸²à¸«à¸™à¸±à¸‡">
<div id="channel-list"></div>
</div>

<div id="preview">
<img id="previewImg">
</div>

<script>

/* ===== à¹€à¸¡à¸™à¸¹à¸«à¸¥à¸±à¸ 5 à¹€à¸¡à¸™à¸¹ ===== */
/* à¹ƒà¸ªà¹ˆà¸¥à¸´à¸‡à¸à¹Œ m3u à¸‚à¸­à¸‡à¹à¸•à¹ˆà¸¥à¸°à¸«à¸¡à¸§à¸”à¹€à¸­à¸‡ */
const mainMenus = [
  { name: "ðŸ“º à¸«à¸™à¸±à¸‡à¹ƒà¸«à¸¡à¹ˆà¸›à¸£à¸°à¸ˆà¸³à¹€à¸”à¸·à¸­à¸™", url: "https://dl.dropbox.com/scl/fi/qazbt7kg8pbmqwpua3sum/.m3u?rlkey=p8mz84ucqgnl59ft52uz3xh06&dl=1" },
  { name: "ðŸ“º à¸«à¸™à¸±à¸‡à¸‹à¸¹à¸¡", url: "https://dl.dropbox.com/scl/fi/f6335p7rp7gkjc1mjog3g/.m3u?rlkey=frk7z8lixpyxzt8ozw68hfb7g&dl=1" },
  { name: "ðŸ“º à¸«à¸™à¸±à¸‡à¹ƒà¸«à¸¡à¹ˆ", url: "https://dl.dropbox.com/scl/fi/wkrcgx4mk0q5we9h198ik/.m3u?rlkey=42zamptxag4k8fy8ncly6ksuw&dl=1" },
  { name: "ðŸ“º à¸«à¸™à¸±à¸‡à¸ˆà¸µà¸™", url: "https://dl.dropbox.com/scl/fi/j6cwjgp7mfsmpfin2y97e/.m3u?rlkey=877zwz3ak6ynalddov6wf1dhg&dl=1" },
  { name: "ðŸ“º à¸«à¸™à¸±à¸‡à¸à¸£à¸±à¹ˆà¸‡", url: "https://dl.dropbox.com/scl/fi/6ewlrevxywn8btkpw5xcq/.m3u?rlkey=a7j7mpj25t6e3sj2qakwu13ze&dl=1" },
  { name: "ðŸ“º à¸«à¸™à¸±à¸‡à¹„à¸—à¸¢", url: "https://dl.dropbox.com/scl/fi/na88ndun6pblhyngeajte/.m3u?rlkey=xe7ab7rh9mvxorvk4ank4gzic&dl=1" },
  { name: "ðŸ“º à¸«à¸™à¸±à¸‡à¹€à¸à¸²à¸«à¸¥à¸µ", url: "https://dl.dropbox.com/scl/fi/rsvyqnisoyx29tfer7xko/.m3u?rlkey=ddrg146nk2ae9j81wgwxw1vx6&dl=1" },
  { name: "ðŸ“º à¸«à¸™à¸±à¸‡à¸ à¸²à¸„à¸•à¹ˆà¸­", url: "https://dl.dropbox.com/scl/fi/5bo55hx2zwn7fdpakw472/.m3u?rlkey=iyezay4kqgumkafr94ggiwe3p&dl=1" },
  { name: "ðŸ“º à¸«à¸™à¸±à¸‡à¸­à¸´à¸™à¹€à¸”à¸µà¸¢", url: "https://dl.dropbox.com/scl/fi/9dlsc4byxhzibg5i74vub/Gojek.m3u?rlkey=zxcqa3mr7z9veldpqu9wop4wd&dl=1" },
  { name: "ðŸŽ¬ à¸‹à¸µà¸£à¸µà¸¢à¹Œà¸ˆà¸µà¸™", url: "https://dl.dropbox.com/scl/fi/j8w9kgqn0gfmf22tob56k/.m3u?rlkey=h7trc6tsisnhijdg7tc9105oj&dl=1" },
  { name: "ðŸŽ¬ à¸‹à¸µà¸£à¸µà¸¢à¹Œà¸à¸µà¹ˆà¸›à¸¸à¹ˆà¸™", url: "https://dl.dropbox.com/scl/fi/n7822zwfd5u52gkyumle9/.m3u?rlkey=2tc4umwcj3jsngx6hwq63k0ib&dl=1" },
  { name: "ðŸŽ¬ à¸‹à¸µà¸£à¸µà¸¢à¹Œà¸à¸£à¸±à¹ˆà¸‡", url: "https://dl.dropbox.com/scl/fi/u04bviwds7ozz6ggermqn/.m3u?rlkey=kz2e63awo3s6thfx7oy3cwh2a&dl=1" },
  { name: "ðŸŽ¬ à¸‹à¸µà¸£à¸µà¸¢à¹Œà¹€à¸à¸²à¸«à¸¥à¸µ", url: "https://dl.dropbox.com/scl/fi/2expfgxgnyrt9hp2be62s/.m3u?rlkey=q3f35bazvid9b0c7ce4v1xxr6&dl=1" },
  { name: "ðŸŽ¬ à¸‹à¸µà¸£à¸µà¸¢à¹Œà¸¥à¸°à¸„à¸£à¹„à¸—à¸¢", url: "https://dl.dropbox.com/scl/fi/nrbmxmrywreqvo6srjtqo/.m3u?rlkey=i2jczk824gv0ehtl16hkicfy8&dl=1" },
  { name: "ðŸŽ¬ à¸‹à¸µà¸£à¸µà¸¢à¹Œà¸¥à¸°à¸„à¸£à¸”à¸´à¸ˆà¸´à¸•à¸­à¸¥", url: "https://dl.dropbox.com/scl/fi/n10a3n5dqrybb6xby72jd/.m3u?rlkey=ow2i1hryyvpuac1m6lcgcew42&dl=1" },
  { name: "ðŸŽ¬ à¸‹à¸µà¸£à¸µà¸¢à¹Œà¸¥à¸°à¸„à¸£à¹„à¸—à¸¢à¸ˆà¸±à¸à¸£à¸§à¸‡à¸¨à¹Œ", url: "https://dl.dropbox.com/scl/fi/ega5ri25dguzu4bqihsb6/.m3u?rlkey=u9olrsbr8cnil6xf1d6mj97nq&dl=1" },
  { name: "ðŸŽ¬ à¸‹à¸µà¸£à¸µà¸¢à¹Œà¸‹à¸´à¸—à¸„à¸­à¸¡", url: "https://dl.dropbox.com/scl/fi/uo1car54okz22dzl9gxqo/.m3u?rlkey=o3wcb2kp166lxe0lym21l065o&dl=1" },
  { name: "ðŸ“° à¸­à¸™à¸´à¹€à¸¡à¸°", url: "https://dl.dropbox.com/scl/fi/7rs8cwvpomxsnuz7eduib/.m3u?rlkey=9dnxse8miixpmh28udfysoxc3&dl=1" },
 
];

let channels=[],grouped={},hls=null;
let closeTimer=null;
let currentChannelElement=null;

const menu=document.getElementById("menu");
const overlay=document.getElementById("overlay");
const player=document.getElementById("player-container");
const preview=document.getElementById("preview");
const previewImg=document.getElementById("previewImg");

/* MENU CONTROL */
function openMenu(){
clearTimeout(closeTimer);
menu.classList.remove("hide");
overlay.classList.remove("hide");
player.classList.add("blur");
}
function closeMenuSmooth(){
clearTimeout(closeTimer);
closeTimer=setTimeout(()=>{
menu.classList.add("hide");
overlay.classList.add("hide");
player.classList.remove("blur");
},400);
}
document.addEventListener("mousemove",(e)=>{
if(e.clientX<=15){ openMenu(); }
});
menu.addEventListener("mouseleave",closeMenuSmooth);
menu.addEventListener("mouseenter",()=>clearTimeout(closeTimer));
overlay.addEventListener("click",()=>{
menu.classList.add("hide");
overlay.classList.add("hide");
player.classList.remove("blur");
});

/* PREVIEW */
function showPreview(img){
if(!img) return;
previewImg.src=img;
preview.classList.add("active");
}
function hidePreview(){
preview.classList.remove("active");
}

/* PLAYLIST */
function isValidVideoURL(url){
const clean=url.split("?")[0].toLowerCase();
return clean.endsWith(".m3u8")||clean.endsWith(".mp4");
}

async function loadM3U(url){
if(!url) return [];
const res=await fetch(url);
const text=await res.text();
const lines=text.split("\n");
let current={},list=[];
for(let line of lines){
line=line.trim();
if(line.startsWith("#EXTINF")){
const name=line.match(/,(.*)$/);
const logo=line.match(/tvg-logo="(.*?)"/);
const group=line.match(/group-title="(.*?)"/);
current={
title:(name&&name[1])?name[1].trim():"à¹„à¸¡à¹ˆà¸¡à¸µà¸Šà¸·à¹ˆà¸­",
logo:(logo&&logo[1])?logo[1].trim():"",
group:(group&&group[1])?group[1].trim():"à¸­à¸·à¹ˆà¸™à¹†"
};
}else if(line && !line.startsWith("#")){
if(isValidVideoURL(line)){
current.url=line.trim();
list.push({...current});
}
}
}
return list;
}

function groupChannels(){
grouped={};
channels.forEach(c=>{
if(!grouped[c.group]) grouped[c.group]=[];
grouped[c.group].push(c);
});
}

function renderMainMenus(){
const container=document.getElementById("channel-list");
container.innerHTML="";
mainMenus.forEach(menuItem=>{
const cat=document.createElement("div");
cat.className="category";

const header=document.createElement("div");
header.className="category-header";
header.innerHTML=`<span>${menuItem.name}</span><span>+</span>`;

const content=document.createElement("div");
content.className="category-content";

header.onclick=async()=>{
document.querySelectorAll("#channel-list > .category").forEach(c=>{
if(c!==cat) c.classList.remove("active");
});
cat.classList.toggle("active");
if(content.innerHTML==="" && menuItem.url){
channels=await loadM3U(menuItem.url);
groupChannels();
renderGroups(content);
}
};

cat.appendChild(header);
cat.appendChild(content);
container.appendChild(cat);
});
}

function renderGroups(container){
container.innerHTML="";
for(let group in grouped){
const cat=document.createElement("div");
cat.className="category";

const header=document.createElement("div");
header.className="category-header";
header.innerHTML=`<span>${group}</span><span>+</span>`;
header.onclick=()=>cat.classList.toggle("active");

const content=document.createElement("div");
content.className="category-content";

grouped[group].forEach(ch=>{
const div=document.createElement("div");
div.className="channel";
div.innerHTML=`
${ch.logo?`<img src="${ch.logo}" onerror="this.style.display='none'">`:""}
<span>${ch.title}</span>
`;
div.onclick=()=>{
playChannel(ch);
if(currentChannelElement) currentChannelElement.classList.remove("active");
div.classList.add("active");
currentChannelElement=div;
};
div.onmouseenter=()=>showPreview(ch.logo);
div.onmouseleave=hidePreview;
content.appendChild(div);
});

cat.appendChild(header);
cat.appendChild(content);
container.appendChild(cat);
}
}

function playChannel(channel){
const video=document.getElementById("video");
if(hls){hls.destroy();hls=null;}
video.pause();
video.removeAttribute("src");
video.load();

const clean=channel.url.split("?")[0].toLowerCase();

if(clean.endsWith(".m3u8")){
if(video.canPlayType('application/vnd.apple.mpegurl')){
video.src=channel.url;
video.play();
}else if(Hls.isSupported()){
hls=new Hls();
hls.loadSource(channel.url);
hls.attachMedia(video);
hls.on(Hls.Events.MANIFEST_PARSED,()=>video.play());
}
}else{
video.src=channel.url;
video.play();
}
closeMenuSmooth();
}

document.getElementById("search").addEventListener("input",e=>{
const keyword=e.target.value.toLowerCase();
document.querySelectorAll(".channel").forEach(ch=>{
ch.style.display=ch.innerText.toLowerCase().includes(keyword)?"flex":"none";
});
});

renderMainMenus();

</script>

</body>
</html>
